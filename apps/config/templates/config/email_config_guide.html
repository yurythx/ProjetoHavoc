{% extends "config/base_config.html" %}

{% block config_title %}Guia de Configura√ß√£o de Email{% endblock %}
{% block config_description %}Passo a passo para configurar diferentes provedores de email{% endblock %}

{% block config_content %}

<div class="row">
    <div class="col-12">
        <!-- Introdu√ß√£o -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    Como Configurar Email no Sistema
                </h5>
            </div>
            <div class="card-body">
                <p class="mb-3">Este guia te ajudar√° a configurar diferentes provedores de email no sistema Projeto Havoc. Siga os passos espec√≠ficos para cada provedor.</p>
                
                <div class="alert alert-info">
                    <h6><i class="fas fa-lightbulb me-2"></i>Dica Importante:</h6>
                    <p class="mb-0">Para a maioria dos provedores modernos (Gmail, Outlook, Yahoo), voc√™ precisar√° usar <strong>Senhas de App</strong> em vez da senha normal da conta, especialmente se tiver verifica√ß√£o em 2 etapas ativada.</p>
                </div>
            </div>
        </div>

        <!-- Gmail -->
        <div class="card mb-4">
            <div class="card-header d-flex align-items-center">
                <img src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Gmail_icon_%282020%29.svg" alt="Gmail" width="24" height="24" class="me-2">
                <h5 class="mb-0">Gmail (@gmail.com)</h5>
                <span class="badge bg-success ms-auto">Recomendado</span>
            </div>
            <div class="card-body">
                <h6><i class="fas fa-cog me-2"></i>Configura√ß√µes SMTP:</h6>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Host:</strong> smtp.gmail.com</li>
                            <li><strong>Porta:</strong> 587</li>
                            <li><strong>TLS:</strong> Ativado</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Usu√°rio:</strong> seu-email@gmail.com</li>
                            <li><strong>Senha:</strong> Senha de App (16 caracteres)</li>
                        </ul>
                    </div>
                </div>

                <h6><i class="fas fa-key me-2"></i>Como gerar Senha de App:</h6>
                <ol>
                    <li><strong>Ative a Verifica√ß√£o em 2 Etapas:</strong>
                        <ul>
                            <li>Acesse: <a href="https://myaccount.google.com/security" target="_blank">https://myaccount.google.com/security</a></li>
                            <li>Fa√ßa login com sua conta Gmail</li>
                            <li>Ative "Verifica√ß√£o em 2 etapas"</li>
                        </ul>
                    </li>
                    <li><strong>Gere a Senha de App:</strong>
                        <ul>
                            <li>Acesse: <a href="https://myaccount.google.com/apppasswords" target="_blank">https://myaccount.google.com/apppasswords</a></li>
                            <li>Selecione "Email" como aplicativo</li>
                            <li>Selecione "Outro" como dispositivo</li>
                            <li>Digite "Projeto Havoc System" como nome</li>
                            <li>Clique em "Gerar"</li>
                            <li>Copie a senha de 16 caracteres (formato: xxxx xxxx xxxx xxxx)</li>
                        </ul>
                    </li>
                    <li><strong>Use no Sistema:</strong>
                        <ul>
                            <li>Cole a senha de app (sem espa√ßos) no campo "Senha"</li>
                            <li>N√ÉO use a senha normal da conta Gmail</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Outlook/Hotmail -->
        <div class="card mb-4">
            <div class="card-header d-flex align-items-center">
                <img src="https://upload.wikimedia.org/wikipedia/commons/d/df/Microsoft_Office_Outlook_%282018%E2%80%93present%29.svg" alt="Outlook" width="24" height="24" class="me-2">
                <h5 class="mb-0">Outlook/Hotmail (@outlook.com, @hotmail.com)</h5>
            </div>
            <div class="card-body">
                <h6><i class="fas fa-cog me-2"></i>Configura√ß√µes SMTP:</h6>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Host:</strong> smtp-mail.outlook.com</li>
                            <li><strong>Porta:</strong> 587</li>
                            <li><strong>TLS:</strong> Ativado</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Usu√°rio:</strong> seu-email@outlook.com</li>
                            <li><strong>Senha:</strong> Senha de App ou senha normal</li>
                        </ul>
                    </div>
                </div>

                <h6><i class="fas fa-key me-2"></i>Como configurar:</h6>
                <ol>
                    <li><strong>Se tiver 2FA ativado:</strong>
                        <ul>
                            <li>Acesse: <a href="https://account.microsoft.com/security/app-passwords" target="_blank">https://account.microsoft.com/security/app-passwords</a></li>
                            <li>Gere uma senha de app para "Email"</li>
                            <li>Use a senha de app no sistema</li>
                        </ul>
                    </li>
                    <li><strong>Se N√ÉO tiver 2FA:</strong>
                        <ul>
                            <li>Pode usar a senha normal da conta</li>
                            <li>Recomendamos ativar 2FA por seguran√ßa</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Yahoo -->
        <div class="card mb-4">
            <div class="card-header d-flex align-items-center">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/24/Yahoo%21_logo.svg" alt="Yahoo" width="24" height="24" class="me-2">
                <h5 class="mb-0">Yahoo Mail (@yahoo.com)</h5>
            </div>
            <div class="card-body">
                <h6><i class="fas fa-cog me-2"></i>Configura√ß√µes SMTP:</h6>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Host:</strong> smtp.mail.yahoo.com</li>
                            <li><strong>Porta:</strong> 587</li>
                            <li><strong>TLS:</strong> Ativado</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled">
                            <li><strong>Usu√°rio:</strong> seu-email@yahoo.com</li>
                            <li><strong>Senha:</strong> Senha de App obrigat√≥ria</li>
                        </ul>
                    </div>
                </div>

                <h6><i class="fas fa-key me-2"></i>Como gerar Senha de App:</h6>
                <ol>
                    <li>Acesse: <a href="https://login.yahoo.com/account/security" target="_blank">https://login.yahoo.com/account/security</a></li>
                    <li>Ative "Verifica√ß√£o em duas etapas"</li>
                    <li>V√° em "Gerar senha de app"</li>
                    <li>Selecione "Email" como aplicativo</li>
                    <li>Use a senha gerada no sistema</li>
                </ol>
            </div>
        </div>

        <!-- Outros Provedores -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-server me-2"></i>
                    Outros Provedores SMTP
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>üìß Provedores Corporativos:</h6>
                        <ul>
                            <li><strong>Office 365:</strong> smtp.office365.com:587</li>
                            <li><strong>Exchange:</strong> Consulte seu administrador</li>
                            <li><strong>G Suite:</strong> smtp.gmail.com:587</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>üåê Outros Provedores:</h6>
                        <ul>
                            <li><strong>SendGrid:</strong> smtp.sendgrid.net:587</li>
                            <li><strong>Mailgun:</strong> smtp.mailgun.org:587</li>
                            <li><strong>Amazon SES:</strong> Varia por regi√£o</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Solu√ß√£o de Problemas -->
        <div class="card mb-4">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Solu√ß√£o de Problemas
                </h5>
            </div>
            <div class="card-body">
                <h6>‚ùå Erro: "Username and Password not accepted"</h6>
                <ul>
                    <li>Verifique se est√° usando senha de app (n√£o a senha normal)</li>
                    <li>Confirme que a verifica√ß√£o em 2 etapas est√° ativada</li>
                    <li>Gere uma nova senha de app</li>
                    <li>Verifique se o email e senha est√£o corretos</li>
                </ul>

                <h6>‚ùå Erro: "Connection refused" ou "Timeout"</h6>
                <ul>
                    <li>Verifique o host e porta SMTP</li>
                    <li>Confirme se TLS est√° ativado</li>
                    <li>Verifique firewall/proxy da rede</li>
                </ul>

                <h6>‚ùå Email n√£o chega ao destinat√°rio</h6>
                <ul>
                    <li>Verifique a pasta de spam/lixo eletr√¥nico</li>
                    <li>Confirme se o email de origem est√° correto</li>
                    <li>Verifique se o provedor n√£o est√° bloqueando</li>
                </ul>
            </div>
        </div>

        <!-- Bot√µes de A√ß√£o -->
        <div class="card">
            <div class="card-body text-center">
                <h6>Pronto para configurar?</h6>
                <div class="d-flex gap-2 justify-content-center">
                    <a href="{% url 'config:email-create' %}" class="btn btn-success">
                        <i class="fas fa-plus me-1"></i>Nova Configura√ß√£o
                    </a>
                    <a href="{% url 'config:email-list' %}" class="btn btn-primary">
                        <i class="fas fa-list me-1"></i>Ver Configura√ß√µes
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
